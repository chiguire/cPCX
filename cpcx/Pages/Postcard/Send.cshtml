@page
@using cpcx.Extensions
@model cpcx.Pages.Postcard.Send
<div>
    <h1 class="display-4">Send a Postcard</h1>

    @if (!string.IsNullOrWhiteSpace(Model.Message))
    {
        <div>
            @Html.StatusMessage(Model.Message, Model.MessageCssType!.Value)
        </div>
    }

    <p>Travelling: @Model.TravellingPostcards out of @Model.MaxTravellingPostcards postcards</p>
    
    @if (Model.CanUserSendPostcards)
    {
        <p>Please read with care:</p>
        <ul>
            <li>
                You will be given a Postcard ID that you must write on the postcard - the recipient will need it to
                register your postcard on this website.
            </li>
            <li>
                A copy of the address you should mail the postcard to will be available here.
            </li>
            <li>
                Please read the Community Guidelines before exchanging any postacrds.
            </li>
        </ul>
        <form method="post">
            <div>
                <input asp-for="@Model.NotesAcknowledged"> <label asp-for="@Model.NotesAcknowledged">I've read the notes above and want to receive an address to where I'll send a postcard.</label>
            </div>
            <div>
                <input type="submit" value="Request Address"/>
            </div>
        </form>
    }
    else
    {
        <p>You have reached the maximum amount of travelling postcards. Please allow your recipients to register their postcards, or wait until the postcards expire.</p>
    }
</div>